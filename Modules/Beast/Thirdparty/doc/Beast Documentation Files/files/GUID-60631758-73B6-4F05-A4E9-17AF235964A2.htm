<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">


<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<style>.MTcontainer { min-height: 67px; }</style>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta name="product" content="3DSMAX" />
      <meta name="release" content="NA" />
      <meta name="book" content="Developer" />
      <meta name="created" content="2014-04-23" />
      <meta name="topicid" content="GUID-60631758-73B6-4F05-A4E9-17AF235964A2" />
      <meta name="topic-type" content="concept" />
      <meta name="parent-id" content="GUID-11CE4EA5-A237-4A8C-93C7-C00C3445EDF1" />
      <title>Setting up a UV unwrap job</title>
      <link rel="stylesheet" type="text/css" href="../style/adsk.cpm.css" />
      <link rel="stylesheet" type="text/css" href="../style/sdk-custom-html.css" /><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/adsk.strings.js"></script><script type="text/javascript" src="../scripts/adsk.common.js"></script><script type="text/javascript" src="../scripts/adsk.highlight.js"></script><script type="text/javascript" src="../scripts/common-processing.js"></script><script src="../scripts/multireflink.js" type="text/javascript"></script><script type="text/javascript">
reflinkdata.push(["ILBCreateUVJob()", "../api/beastjob_8h.html#a51efd3529c65fa21fa0358d5eeab2854", "API"]); 
reflinkdata.push(["ILBCreateUVUnwrapTarget()", "../api/beasttarget_8h.html#af8d6eb7e3a8a0a2422fcdee3216e7bd0", "API"]); 
reflinkdata.push(["ILBAddMeshToTarget()", "../api/beasttarget_8h.html#aebfe65844a739b06821567403c1db3ca", "API"]); 
reflinkdata.push(["ILBStartJob()", "../api/beastjob_8h.html#a385af7a9ddc5005bdc391e9ada0266c8", "API"]); 
reflinkdata.push(["ILBMeshHandle", "../api/struct_i_l_b_mesh_handle.html", "API"]); 
reflinkdata.push(["ILBJobHandle", "../api/struct_i_l_b_job_handle.html", "API"]); 
reflinkdata.push(["ILBCreateUVJob", "../api/beastjob_8h.html#a51efd3529c65fa21fa0358d5eeab2854", "API"]); 
reflinkdata.push(["ILBTargetHandle", "../api/struct_i_l_b_target_handle.html", "API"]); 
reflinkdata.push(["ILBCreateUVUnwrapTarget", "../api/beasttarget_8h.html#af8d6eb7e3a8a0a2422fcdee3216e7bd0", "API"]); 
reflinkdata.push(["ILBTargetEntityHandle", "../api/struct_i_l_b_target_entity_handle.html", "API"]); 
reflinkdata.push(["ILBAddMeshToTarget", "../api/beasttarget_8h.html#aebfe65844a739b06821567403c1db3ca", "API"]); 
reflinkdata.push(["ILBStartJob", "../api/beastjob_8h.html#a385af7a9ddc5005bdc391e9ada0266c8", "API"]); 
reflinkdata.push(["ILB_SR_CLOSE_WHEN_DONE", "../api/beastjob_8h.html#a003edc685c7e133d235e0d67b48ae0e0acea2a833558b7861cb3a5bb8372b5f03", "API"]); 
reflinkdata.push(["ILB_RD_AUTODETECT", "../api/beastjob_8h.html#a9b4b419f7078be53fc9fd30bc5ca37d2a12dc6129ef7f73c3cdbc82089d01415f", "API"]); 
reflinkdata.push(["ILBBool", "../api/beastapitypes_8h.html#ac4f28becc15566cc389396f596943813", "API"]); 
reflinkdata.push(["ILBWaitJobDone", "../api/beastjob_8h.html#a5098930e9e25f74f9a36b7c57e8fdc55", "API"]); 
reflinkdata.push(["ILBIsJobRunning", "../api/beastjob_8h.html#aab1c21d554bd70197ef70d76be8c46ac", "API"]); 
reflinkdata.push(["ILBJobHasNewProgress", "../api/beastjob_8h.html#a09ba4786a9be629ae8f83f418fe38d43", "API"]); 
reflinkdata.push(["ILBStringHandle", "../api/struct_i_l_b_string_handle.html", "API"]); 
reflinkdata.push(["ILBGetJobProgress", "../api/beastjob_8h.html#aea220bd754153ffafc87ba440793e892", "API"]); 
</script><script type="text/javascript">
                        function toggleContents()
                        { 
                            if (top.document.body.cols == "0,100") 
                            { top.document.body.cols = "30,70"; }
                            else { top.document.body.cols = "0,100"; }
                        }
                        </script>
                        
<script type="text/javascript">
	var DocOnlineVersions = [];
	var DocDownloads = [];
</script>
<script type="text/javascript" src="https://gameware.autodesk.com/beast/developer/doc/2015/documentation/docdata.js"></script>
<script type="text/javascript" src="../scripts/doclinks.js"></script></head>
   <body height="100%" onload="javascript:initFrame('files/GUID-60631758-73B6-4F05-A4E9-17AF235964A2.htm',                           'd30e10442','index.html',location.hash);                           javascript:initPage('Setting up a UV unwrap job','Beast Documentation');                           javascript:convSymbols();                           ; javascript:prettyPrint()" onclick="closeRefLinkDiv();"><div align="right" id="DocLinks"></div><script type="text/javascript">PrintDocLinks()</script>
      <div class="head">
         <div class="head-block">
            <div class="nav-group">
               <!--browse buttons-->
               <div class="browse">
                  <nobr>
                     <div class="headNavLinkToggleToc"><div id="ToggleTocTitle" style="display:none">Toggle the navigation pane</div><a href="GUID-60631758-73B6-4F05-A4E9-17AF235964A2.htm" target="content" onClick="javascript: toggleContents();" class="headNavLink" onmouseover="showInfo(document.getElementById('ToggleTocTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/toggle_navigation.gif" border="0"></a></div><div class="headNavLinkAddToFav">
                        <div id="AddFavTitle" style="display:none">Add to Favorites</div><a href="GUID-60631758-73B6-4F05-A4E9-17AF235964A2.htm" class="headNavLink" onclick="javascript:top.HlpSys.favorites.addToFavorites(document);" onmouseover="showInfo(document.getElementById('AddFavTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/add_favorite.gif" border="0" /></a></div>
                     <div class="headNavLinkHome">
                        <div id="homeTitle" style="display:none">Home: Beast Documentation</div><a href="mePortal.htm" target="content" class="headNavLink" onmouseover="showInfo(document.getElementById('homeTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-home-xp.gif" border="0" /></a></div>
                     <div class="headNavLinkShare">
                        <div id="shareTitle" style="display:none">Share</div><a href="#" target="content" class="headNavLink" onmouseover="showInfo(document.getElementById('shareTitle').innerHTML);" onmouseout="hideInfo();" onclick="window.location='mailto:?subject=Setting up a UV unwrap job&amp;body=' + window.location; return false;"><img src="../images/nav-share.gif" border="0" /></a></div>
                     <div class="headNavLinkPrint">
                        <div id="printTitle" style="display:none">Print</div><a href="#" target="content" class="headNavLink" onmouseover="showInfo(document.getElementById('printTitle').innerHTML);" onmouseout="hideInfo();" onclick="window.print()"><img src="../images/nav-print.gif" border="0" /></a></div><span class="home-button-separator">&nbsp;</span><div class="headNavLinkPrev">
                        <div id="prevTitle" style="display:none">UV Unwrapping</div><a href="GUID-11CE4EA5-A237-4A8C-93C7-C00C3445EDF1.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-prev-xp.gif" border="0" /></a></div>
                     <div class="headNavLinkUp">
                        <div id="parentTitle" style="display:none">UV Unwrapping</div><a href="GUID-11CE4EA5-A237-4A8C-93C7-C00C3445EDF1.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-up-xp.gif" border="0" /></a></div>
                     <div class="headNavLinkNext">
                        <div id="nextTitle" style="display:none">Adjusting Mesh Segmentation</div><a href="GUID-BB85619D-51F7-4BF0-9EF1-B4BEF32F4185.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-next-xp.gif" border="0" /></a></div>
                  </nobr>
               </div>
               <!--end browse buttons-->
            </div>
            <div class="button-info"><span id="infoline">&nbsp;</span></div>
            <div class="ancestry"><a href="GUID-6F3CD6B9-3B62-433A-86AC-5534C8DEC055.htm">Integrating the Beast API</a>&nbsp;&gt;&nbsp;<a href="GUID-BB1E6549-0663-4EFC-8B06-F27253E87FF3.htm">Creating UVs for Meshes</a>&nbsp;&gt;&nbsp;<a href="GUID-11CE4EA5-A237-4A8C-93C7-C00C3445EDF1.htm">UV Unwrapping</a>&nbsp;&gt;&nbsp;
            </div>
            <div class="MTcontainer"><!-- begin MT --><div id="MicrosoftTranslatorWidget" style="float:right; width: 330px; min-height: 57px; border-color: #170D07; background-color: #362F2A"><noscript><a href="http://microsofttranslator.com">Translate this page</a><br />Powered by <a href="http://www.bing.com/translator">Microsoft® Translator</a></noscript></div> <script type="text/javascript"> /* <![CDATA[ */ setTimeout(function() { if (location && location.href && location.href.indexOf('mk:@MSITStore:') == 0) { return; } var s = document.createElement("script"); s.type = "text/javascript"; s.charset = "UTF-8"; s.src = ((location && location.href && location.href.indexOf('https') == 0) ? "https://ssl.microsofttranslator.com" : "http://www.microsofttranslator.com" ) + "/ajax/v2/widget.aspx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&layout=ts&mode=manual&from=en&category=5297189e-446b-459e-ae1d-9d0360400781_tech&toolbar=none&hidelanguages="; var p = document.getElementsByTagName('head')[0] || document.documentElement; p.insertBefore(s, p.firstChild); }, 0); /* ]]> */ </script><!-- end MT -->
			<div class="head-text"><span class="anchor_wrapper"><a name="GUID-2CB7A94F-2191-4960-AC1C-99DC7F27451E"></a></span><h1>Setting up a UV unwrap job</h1>
            </div></div>
         </div>
      </div>
      <div class="head-margin">&nbsp;</div>
      <div style="line-height: 0pt">&nbsp;</div>
      <div class="head-margin">&nbsp;</div>
      <div class="body_content"><span class="anchor_wrapper"><a name="GUID-60631758-73B6-4F05-A4E9-17AF235964A2"></a></span>
         <!--Body--><p><span class="anchor_wrapper"><a name="GUID-2C2F9380-6D7F-4E32-9717-B9BD79E17562"></a></span> Setting up a UV unwrap job is similar to setting up a Beast bake job. A new job is created, a target for the job is created,
            and target entities are added to the target. In the case of a UV unwrap job, the target entities are the meshes that will
            be unwrapped. 
         </p>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_56799C3FF27B42D7A5B94F574C0E53D4"></a></span> 
            <h2><a name="TOC_ENTRY__d30e10450"></a><span class="anchor_wrapper"><a name="GUID-EE0C4AF8-481D-42A4-941B-FDC2E4CD61B8"></a></span>Coordinate systems
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-9D7D1FC0-58BC-4C91-993B-F68DFF7E3ADB"></a></span>Your meshes can be expressed in global space or in object space, in your choice of coordinate systems, with your choice of
               units. The Beast API does not enforce any particular requirements. It is up to you to determine which system you want to use,
               and to take care of performing any transformations yourself for the mesh or for the configuration parameters you provide (such
               as the <em class="mild">texelPerUnit</em> setting). 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_878455E283D24D7DAB347B4855148F3F"></a></span> 
            <h2><a name="TOC_ENTRY__d30e10461"></a><span class="anchor_wrapper"><a name="GUID-2031488D-2689-4279-8EDB-375A6EC0CC1C"></a></span>To set up a UV unwrap job
            </h2> 
            <!--OList--><span class="anchor_wrapper"><a name="OL_A702B5C0343444C4B5509CF6D0FCF63D"></a></span><ol start="1">
               <li>Create a new job with a call to <span class="code" translate="no"><a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBCreateUVJob()'); return false;">ILBCreateUVJob()</a></span>. 
               </li>
               <li>Create UV unwrap targets using <span class="code" translate="no"><a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBCreateUVUnwrapTarget()'); return false;">ILBCreateUVUnwrapTarget()</a></span>. The <em class="mild">texelPerUnit</em> setting in this function is used to set the number of texels used per unit when baking the mesh (see <span class="char_link"><a href="GUID-55DCC92F-296A-49B5-8FBB-FDA146CD5994.htm">Adjusting Chart Packing</a></span>). 
               </li>
               <li>Add the meshes that will be unwrapped to this target using the <span class="code" translate="no"><a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBAddMeshToTarget()'); return false;">ILBAddMeshToTarget()</a></span> function. 
               </li>
               <li>Run the job—the same way as a regular baking job—by calling <span class="code" translate="no"><a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBStartJob()'); return false;">ILBStartJob()</a></span>, and using job functions to retrieve job status and progress information; see <span class="char_link"><a href="GUID-DF11F2F8-69AA-447C-91EB-10547F54038B.htm">Monitoring Jobs and Retrieving Updates</a></span>. 
               </li>
            </ol> 
            <p><span class="anchor_wrapper"><a name="GUID-6033FFE3-F122-4F6F-BD14-868AF9E59293"></a></span>Distribution is not currently supported for unwrapping jobs. The distribution flag in <span class="code" translate="no"><a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBStartJob()'); return false;">ILBStartJob()</a></span> is ignored (for unwrapping jobs), and the job is only executed locally. Calculations are multi-threaded on a mesh-by-mesh
               basis; if multiple meshes are added to an unwrap target, the unwrapping will be run in parallel on multiple cores. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_C9A3F113826247D6BFF59DB948303DF4"></a></span> 
            <h2><a name="TOC_ENTRY__d30e10501"></a><span class="anchor_wrapper"><a name="GUID-463E2F24-91A0-42D3-9644-CB0424B50C2B"></a></span>Code Example
            </h2> 
            <div class="codeBlock"><pre class="prettyprint"><a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBMeshHandle'); return false;">ILBMeshHandle</a> mesh = createMyMesh();

<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBJobHandle'); return false;">ILBJobHandle</a> unwrapJob();
<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBCreateUVJob'); return false;">ILBCreateUVJob</a>(beastManager, _T("MyUnwrapJob"), &amp;unwrapJob);

const float texelsPerUnit = 5.0f;

<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBTargetHandle'); return false;">ILBTargetHandle</a> unwrapTarget;
<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBCreateUVUnwrapTarget'); return false;">ILBCreateUVUnwrapTarget</a>(unwrapJob, _T("MyUnwrapTarget"), texelsPerUnit, &amp;unwrapTarget);

<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBTargetEntityHandle'); return false;">ILBTargetEntityHandle</a> unwrapEntity;
<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBAddMeshToTarget'); return false;">ILBAddMeshToTarget</a>(unwrapTarget, mesh, &amp;unwrapEntity);

<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBStartJob'); return false;">ILBStartJob</a>(unwrapJob, <a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILB_SR_CLOSE_WHEN_DONE'); return false;">ILB_SR_CLOSE_WHEN_DONE</a>, <a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILB_RD_AUTODETECT'); return false;">ILB_RD_AUTODETECT</a>);

<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBBool'); return false;">ILBBool</a> isRunning = true;
while (isRunning) {
	<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBWaitJobDone'); return false;">ILBWaitJobDone</a>(unwrapJob, 0xffffffff);
	<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBIsJobRunning'); return false;">ILBIsJobRunning</a>(unwrapJob, &amp;isRunning);

	if (isRunning) {
		<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBBool'); return false;">ILBBool</a> newProgress, newActivity;
		<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBJobHasNewProgress'); return false;">ILBJobHasNewProgress</a>(unwrapJob, &amp;newActivity, &amp;newProgress);
		if (newProgress) {
			<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBStringHandle'); return false;">ILBStringHandle</a> taskName;
			int32 progress;
			<a href="javascript:void(0)" onclick="openRefLinkDiv(event,'ILBGetJobProgress'); return false;">ILBGetJobProgress</a>(unwrapJob, &amp;taskName, &amp;progress);
			if (newActivity) {
				cout &lt;&lt; taskName &lt;&lt; endl;
			}
			cout &lt;&lt; "Progress " &lt;&lt; progress &lt;&lt; "%" &lt;&lt; endl;
		}
	}
}</pre></div> 
         </div>
         <div class="footer-block"><a href="javascript:doComments('../html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   <div id="reflinkdiv" style="display:none; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div><script type="text/javascript">
    if (document.location.protocol == "http:" || document.location.protocol == "https:")
	{
		var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
		document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	}
</script>
<script type="text/javascript">
    if (document.location.protocol == "http:" || document.location.protocol == "https:")
	{
		try {
			var pageTracker = _gat._getTracker("UA-2967772-176");
			pageTracker._trackPageview();
		} catch(err) {}
	}
</script>
    
</body>
</html>