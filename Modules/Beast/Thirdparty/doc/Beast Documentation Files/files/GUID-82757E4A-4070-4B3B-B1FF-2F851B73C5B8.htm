<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">


<!-- saved from url=(0024)http://docs.autodesk.com -->
<html>
   <head>
<style>.MTcontainer { min-height: 67px; }</style>
<link href="../style/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="../scripts/prettify.js"></script>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <meta name="product" content="3DSMAX" />
      <meta name="release" content="NA" />
      <meta name="book" content="Developer" />
      <meta name="created" content="2014-04-23" />
      <meta name="topicid" content="GUID-82757E4A-4070-4B3B-B1FF-2F851B73C5B8" />
      <meta name="topic-type" content="concept" />
      <meta name="parent-id" content="GUID-EA20965A-23B7-45B1-B71F-E585C0806CA1" />
      <title>Final Gather Settings</title>
      <link rel="stylesheet" type="text/css" href="../style/adsk.cpm.css" />
      <link rel="stylesheet" type="text/css" href="../style/sdk-custom-html.css" /><script type="text/javascript" src="../scripts/ac_common.js"></script><script type="text/javascript" src="../scripts/adsk.strings.js"></script><script type="text/javascript" src="../scripts/adsk.common.js"></script><script type="text/javascript" src="../scripts/adsk.highlight.js"></script><script type="text/javascript" src="../scripts/common-processing.js"></script><script src="../scripts/multireflink.js" type="text/javascript"></script><script type="text/javascript">
</script><script type="text/javascript">
                        function toggleContents()
                        { 
                            if (top.document.body.cols == "0,100") 
                            { top.document.body.cols = "30,70"; }
                            else { top.document.body.cols = "0,100"; }
                        }
                        </script>
                        
<script type="text/javascript">
	var DocOnlineVersions = [];
	var DocDownloads = [];
</script>
<script type="text/javascript" src="https://gameware.autodesk.com/beast/developer/doc/2015/documentation/docdata.js"></script>
<script type="text/javascript" src="../scripts/doclinks.js"></script></head>
   <body height="100%" onload="javascript:initFrame('files/GUID-82757E4A-4070-4B3B-B1FF-2F851B73C5B8.htm',                           'd30e15362','index.html',location.hash);                           javascript:initPage('Final Gather Settings','Beast Documentation');                           javascript:convSymbols();                           ; javascript:prettyPrint()" onclick="closeRefLinkDiv();"><div align="right" id="DocLinks"></div><script type="text/javascript">PrintDocLinks()</script>
      <div class="head">
         <div class="head-block">
            <div class="nav-group">
               <!--browse buttons-->
               <div class="browse">
                  <nobr>
                     <div class="headNavLinkToggleToc"><div id="ToggleTocTitle" style="display:none">Toggle the navigation pane</div><a href="GUID-82757E4A-4070-4B3B-B1FF-2F851B73C5B8.htm" target="content" onClick="javascript: toggleContents();" class="headNavLink" onmouseover="showInfo(document.getElementById('ToggleTocTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/toggle_navigation.gif" border="0"></a></div><div class="headNavLinkAddToFav">
                        <div id="AddFavTitle" style="display:none">Add to Favorites</div><a href="GUID-82757E4A-4070-4B3B-B1FF-2F851B73C5B8.htm" class="headNavLink" onclick="javascript:top.HlpSys.favorites.addToFavorites(document);" onmouseover="showInfo(document.getElementById('AddFavTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/add_favorite.gif" border="0" /></a></div>
                     <div class="headNavLinkHome">
                        <div id="homeTitle" style="display:none">Home: Beast Documentation</div><a href="mePortal.htm" target="content" class="headNavLink" onmouseover="showInfo(document.getElementById('homeTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-home-xp.gif" border="0" /></a></div>
                     <div class="headNavLinkShare">
                        <div id="shareTitle" style="display:none">Share</div><a href="#" target="content" class="headNavLink" onmouseover="showInfo(document.getElementById('shareTitle').innerHTML);" onmouseout="hideInfo();" onclick="window.location='mailto:?subject= Final Gather Settings&amp;body=' + window.location; return false;"><img src="../images/nav-share.gif" border="0" /></a></div>
                     <div class="headNavLinkPrint">
                        <div id="printTitle" style="display:none">Print</div><a href="#" target="content" class="headNavLink" onmouseover="showInfo(document.getElementById('printTitle').innerHTML);" onmouseout="hideInfo();" onclick="window.print()"><img src="../images/nav-print.gif" border="0" /></a></div><span class="home-button-separator">&nbsp;</span><div class="headNavLinkPrev">
                        <div id="prevTitle" style="display:none">GISettings</div><a href="GUID-EA20965A-23B7-45B1-B71F-E585C0806CA1.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('prevTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-prev-xp.gif" border="0" /></a></div>
                     <div class="headNavLinkUp">
                        <div id="parentTitle" style="display:none">GISettings</div><a href="GUID-EA20965A-23B7-45B1-B71F-E585C0806CA1.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('parentTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-up-xp.gif" border="0" /></a></div>
                     <div class="headNavLinkNext">
                        <div id="nextTitle" style="display:none">Path Tracer Settings</div><a href="GUID-4969451E-3483-4791-A523-2A47B2CCA594.htm" class="headNavLink" onmouseover="showInfo(document.getElementById('nextTitle').innerHTML);" onmouseout="hideInfo();"><img src="../images/nav-next-xp.gif" border="0" /></a></div>
                  </nobr>
               </div>
               <!--end browse buttons-->
            </div>
            <div class="button-info"><span id="infoline">&nbsp;</span></div>
            <div class="ancestry"><a href="GUID-F64DB7DB-534D-4B24-8556-FE2AF7F6B1CD.htm"> XML Reference</a>&nbsp;&gt;&nbsp;<a href="GUID-EA20965A-23B7-45B1-B71F-E585C0806CA1.htm"> GISettings</a>&nbsp;&gt;&nbsp;
            </div>
            <div class="MTcontainer"><!-- begin MT --><div id="MicrosoftTranslatorWidget" style="float:right; width: 330px; min-height: 57px; border-color: #170D07; background-color: #362F2A"><noscript><a href="http://microsofttranslator.com">Translate this page</a><br />Powered by <a href="http://www.bing.com/translator">Microsoft® Translator</a></noscript></div> <script type="text/javascript"> /* <![CDATA[ */ setTimeout(function() { if (location && location.href && location.href.indexOf('mk:@MSITStore:') == 0) { return; } var s = document.createElement("script"); s.type = "text/javascript"; s.charset = "UTF-8"; s.src = ((location && location.href && location.href.indexOf('https') == 0) ? "https://ssl.microsofttranslator.com" : "http://www.microsofttranslator.com" ) + "/ajax/v2/widget.aspx?siteData=y5CYlxTRD0znCzRLDwX0Wy7-g1EdC1XA4dSC-Y1LtaeScyli8_Ps5jPKqTr4xKxMI0OOUfkDplvX3uxN0JnPclebSYW8_J1HBzf4VLQEzQ8M4PsYXF_cMyp1Oumaetky&layout=ts&mode=manual&from=en&category=5297189e-446b-459e-ae1d-9d0360400781_tech&toolbar=none&hidelanguages="; var p = document.getElementsByTagName('head')[0] || document.documentElement; p.insertBefore(s, p.firstChild); }, 0); /* ]]> */ </script><!-- end MT -->
			<div class="head-text"><span class="anchor_wrapper"><a name="GUID-9BC64889-01ED-4454-8BD3-3A4CD776CA5D"></a></span><h1> Final Gather Settings</h1>
            </div></div>
         </div>
      </div>
      <div class="head-margin">&nbsp;</div>
      <div style="line-height: 0pt">&nbsp;</div>
      <div class="head-margin">&nbsp;</div>
      <div class="body_content"><span class="anchor_wrapper"><a name="GUID-82757E4A-4070-4B3B-B1FF-2F851B73C5B8"></a></span>
         <!--Body--><p><span class="anchor_wrapper"><a name="GUID-7870CF14-CA98-4B06-B71B-84A2BCE6538A"></a></span>The final gather algorithm is a method of achieving high-quality global illumination for a scene by determining the incoming
            light from several directions in the hemisphere over each sampling point. 
         </p>
         <div><span class="anchor_wrapper"><a name="GUID-C1FB358C-C32C-44AD-AF26-8F78B82FE958"></a></span><div class="note-note"><span class="label">Note</span>The settings in this group are only used when rendering scenes with "classic" materials. They are not used at all for physically
               based rendering. 
            </div>
         </div>
         <p><span class="anchor_wrapper"><a name="GUID-8D55B8AD-D6AE-4D78-AAF7-EAFF7F0D39AE"></a></span>In most projects, you need to tweak some settings for each scene to get the best quality results: 
         </p><span class="anchor_wrapper"><a name="UL_F0BAA437A8B0412AB0C76C446C8E1841"></a></span><ul>
            <li>The <span class="code" translate="no">&lt;fgRays&gt;</span> setting, which determines the number of rays sent from each sample point. 
            </li>
            <li>The <span class="code" translate="no">&lt;fgContrastThreshold&gt;</span> setting, which determines how adaptive sampling points are distributed. 
            </li>
         </ul>
         <p><span class="anchor_wrapper"><a name="GUID-B6D4D85E-2817-4E35-AE4E-B16388E9EE59"></a></span>You can control the look of the final results in several ways, which again are often tweaked for each scene: 
         </p><span class="anchor_wrapper"><a name="UL_4D566256859247658295C22F62A3F33B"></a></span><ul>
            <li>You can set up attenuation, or falloff, to control the way light rays diminish with distance. See the <span class="code" translate="no">&lt;fgAttenuationStart&gt;</span>, <span class="code" translate="no">&lt;fgAttenuationStop&gt;</span> and <span class="code" translate="no">&lt;fgFalloffExponent&gt;</span> settings. 
            </li>
            <li>You can make your shadowy areas stand out more by blending some ambient occlusion into the final solution. See the <span class="code" translate="no">&lt;fgAOContrast&gt;</span>, <span class="code" translate="no">&lt;fgAOInfluence&gt;</span>, <span class="code" translate="no">&lt;fgAOMaxDistance&gt;</span>, <span class="code" translate="no">&lt;fgAOScale&gt;</span> and <span class="code" translate="no">&lt;fgAOVisualize&gt;</span> settings. 
            </li>
            <li>You can set the depth, or the number of bounces allowed for each indirect light ray. See the <span class="code" translate="no">&lt;fgDepth&gt;</span> setting. 
            </li>
         </ul>
         <p><span class="anchor_wrapper"><a name="GUID-55C2A5A7-7307-48E8-918C-EBDA45622839"></a></span>If you notice artifacts in the final lighting, you may be able to prevent them by using the following settings: 
         </p><span class="anchor_wrapper"><a name="UL_A28C25A55B824040B11F432DCFA6A9CA"></a></span><ul>
            <li>Light leaking through walls can be controlled using the <span class="code" translate="no">&lt;fgCheckVisibility&gt;</span> and <span class="code" translate="no">&lt;fgCheckVisibilityDepth&gt;</span> settings. 
            </li>
            <li>If you are using the path tracer as a secondary GI integrator, you can use <span class="code" translate="no">&lt;fgLightLeakReduction&gt;</span> and <span class="code" translate="no">&lt;fgLightLeakRadius&gt;</span> instead, which should be faster. 
            </li>
            <li>You may be able to remove artifacts such as halos of white light by adjusting the <span class="code" translate="no">&lt;fgGradientThreshold&gt;</span> setting. 
            </li>
         </ul>
         <p><span class="anchor_wrapper"><a name="GUID-C509C712-8749-48DF-B5AF-F9B542CEA19B"></a></span>The following block lists all settings available, with their default values. Descriptions of the settings are below. 
         </p>
         <div class="codeBlock"><pre class="prettyprint">&lt;GISettings&gt;
    &lt;fgRays&gt;300&lt;/fgRays&gt;
    &lt;fgContrastThreshold&gt;0.1&lt;/fgContrastThreshold&gt;
    &lt;fgDepth&gt;1&lt;/fgDepth&gt;
    &lt;fgUseCache&gt;irradiance&lt;/fgUseCache&gt;
    &lt;fgInterpolationPoints&gt;15&lt;/fgInterpolationPoints&gt;
    &lt;fgPreview&gt;true&lt;/fgPreview&gt;
    &lt;fgEstimatePoints&gt;15&lt;/fgEstimatePoints&gt;
    &lt;fgNormalThreshold&gt;0.2&lt;/fgNormalThreshold&gt;
    &lt;fgGradientThreshold&gt;0.5&lt;/fgGradientThreshold&gt;
    &lt;fgMaxRayLength&gt;0&lt;/fgMaxRayLength&gt;
    &lt;fgClampRadiance&gt;false&lt;/fgClampRadiance&gt;
    &lt;fgCacheDirectLight&gt;false&lt;/fgCacheDirectLight&gt;
    &lt;fgCheckVisibility&gt;false&lt;/fgCheckVisibility&gt;
    &lt;fgCheckVisibilityDepth&gt;1&lt;/fgCheckVisibilityDepth&gt;
    &lt;fgLightLeakReduction&gt;false&lt;/fgLightLeakReduction&gt;
    &lt;fgLightLeakRadius&gt;0&lt;/fgLightLeakRadius&gt;
    &lt;fgMaxSearchRadius&gt;0&lt;/fgMaxSearchRadius&gt;
    &lt;fgAttenuationStart&gt;0&lt;/fgAttenuationStart&gt;
    &lt;fgAttenuationStop&gt;0&lt;/fgAttenuationStop&gt;
    &lt;fgFalloffExponent&gt;0&lt;/fgFalloffExponent&gt;
    &lt;fgAOContrast&gt;1&lt;/fgAOContrast&gt;
    &lt;fgAOInfluence&gt;0&lt;/fgAOInfluence&gt;
    &lt;fgAOMaxDistance&gt;0&lt;/fgAOMaxDistance&gt;
    &lt;fgAOScale&gt;1&lt;/fgAOScale&gt;
    &lt;fgAOVisualize&gt;false&lt;/fgAOVisualize&gt;
    &lt;fgUseLegacy&gt;false&lt;/fgUseLegacy&gt;
    &lt;fgAccuracy&gt;1&lt;/fgAccuracy&gt;
    &lt;fgSmooth&gt;1&lt;/fgSmooth&gt;
    &lt;fgDisableMinRadius&gt;false&lt;/fgDisableMinRadius&gt;
 &lt;/GISettings&gt; </pre></div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_FF60596D86B34CFA9F85823480A84813"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15449"></a><span class="anchor_wrapper"><a name="GUID-B374323C-A11F-4401-89F2-BA53A96E492A"></a></span>fgRays
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-00E0521F-245A-44B8-B5E3-3071A16CF4B2"></a></span>Sets the maximum number of rays to use for each final gather sample point. A higher number gives higher quality, but longer
               rendering time. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_306374A4DBE14DEDAD79F9EB7CA7F66E"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15458"></a><span class="anchor_wrapper"><a name="GUID-ABC97BF3-1C96-4C24-B820-F5CDF816827D"></a></span>fgContrastThreshold
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-946F7E2B-F7BF-4675-90F6-F663BB35F12D"></a></span>Determines how sensitive the final gather pre-calculation will be to differences in contrast between the points. If the difference
               in contrast between two adjacent points is greater than this threshold, more points will be created in that area. This results
               in the algorithm placing points where they are really needed: i.e. at shadow boundaries or in areas where the indirect light
               changes quickly. Therefore, this threshold controls the number of points created in the scene adaptively. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-0589CB8B-65FF-4468-ADCF-63F5AE1B7D43"></a></span>Note that if a low number of final gather rays are used, the points will have high variance and therefore a high contrast
               difference. In this case, you might need to increase the contrast threshold to prevent points from clumping together. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_FDA80E9961A4484495E7E7AF0BC40D5E"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15469"></a><span class="anchor_wrapper"><a name="GUID-810B29A2-D10E-40F1-B18E-EB3A79EFA7F2"></a></span>fgDepth
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-83EA429F-4D4B-4D1D-BA81-21D103FDDC92"></a></span>Sets the number of indirect light bounces calculated by the final gather. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-619D3568-2473-47DB-9E55-0C588B50FBA7"></a></span>A value higher than <span class="code" translate="no">1</span> will produce more global illumination effects, but can be quite slow since the number of rays will increase exponentially.
               Rather than increasing this value, it is often better to use a fast GI method such as the Path Tracer as the secondary GI
               integrator. If a secondary GI is used the number of set final gather bounces will be calculated first, before the secondary
               GI is called. So in most cases, if a secondary GI is used, the depth should be set to <span class="code" translate="no">1</span>. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_BC4F9BE828634BDE9CE80BE0B07C447C"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15486"></a><span class="anchor_wrapper"><a name="GUID-B14DEC40-91F6-42AB-B244-CF13EBFB8CED"></a></span>fgUseCache
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-8E122119-61CE-47C5-B0D3-F4CD8DF57C14"></a></span>Determines which caching method will be used for final gathering. 
            </p> <span class="anchor_wrapper"><a name="UL_AA78D49E17A5485A94E2D88E6B3B59DC"></a></span><ul>
               <li> <span class="code" translate="no">off</span>: Disables caching, and performs a brute-force final gathering for every shading point (same as Monte Carlo, see below). 
               </li>
               <li><span class="code" translate="no">irradiance</span>: Caches the irradiance at selected points in the scene, and uses interpolation in between the points. This is the default
                  method. 
               </li>
               <li> <span class="code" translate="no">radiancesh</span>: Caches radiance SH functions at selected points in the scene, and uses interpolation in between those points. The radiance
                  cache is very useful for some advanced baking passes that need directional indirect lighting (e.g. Radiosity Normal Maps).
                  If you are baking an RNM render pass with adaptive sampling, <span class="charspan-msgph" translate="no">Beast</span> will set this value automatically. However, if you want to use the radiance cache in a custom Lua baking script that you
                  provide for a Lua render pass, you have to set this value yourself. See the <span class="code" translate="no">gather.useRadianceCache()</span> function in the <span class="char_link"><a href="GUID-3EEB82D8-8B8C-4503-9BD4-74C7693EB705.htm"> Lua Reference</a></span>. 
               </li>
            </ul> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_BEBC89A70BA74F3DA1C511C9A74040AB"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15519"></a><span class="anchor_wrapper"><a name="GUID-001C273C-541E-4F56-A81B-05A5DA1B5409"></a></span>fgInterpolationPoints
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-B4F13A33-EA82-4E5F-A5FA-D5D7C6361AD6"></a></span>Sets the number of final gather points to interpolate between. A higher value will give a smoother result, but can also smooth
               out details. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-E54D17AE-8FB1-4A84-BABA-08B90CA965A3"></a></span>If increasing this value causes light leakage through walls, see <span class="code" translate="no">&lt;fgCheckVisibility&gt;</span> below. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_C29C73BF1F0C416480696FD614473E2E"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15533"></a><span class="anchor_wrapper"><a name="GUID-D34734CC-ADB2-4A75-8A29-434AFB842FDF"></a></span>fgPreview
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-776B7C07-D9BB-47C9-ADCD-75608E0AB478"></a></span>Enable this setting to visualize the final gather prepass. Using the Preview Calculation Pass enables a quick preview of the
               final image lighting, reducing lighting setup time. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_C2AB6B57A1ED4AD5960357E959330B87"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15541"></a><span class="anchor_wrapper"><a name="GUID-1CC5E6F1-8F2E-46F3-91CD-E0111FBCC517"></a></span>fgEstimatePoints
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-AE966509-BE2E-4A87-8ED0-DCE07B690FE1"></a></span>Sets the minimum number of points that should be used when estimating final gather in the pre-calculation pass. Higher values
               create more points all over the scene. The default value of <span class="code" translate="no">15</span> should be suitable in most cases. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_30E2EC3A510E43178C651D6A023D2CB9"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15552"></a><span class="anchor_wrapper"><a name="GUID-AE072EC5-9B0D-4B63-9F64-FD44DDE59463"></a></span>fgNormalThreshold
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-B75C0C1D-EEAC-43CD-A1C4-AFA41A86C0E1"></a></span>Determines how sensitive the final gather will be to differences in the normals between adjacent points. Lower values will
               produce more points in areas of high curvature. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_86B56B200E73438EA48CA3DA3891D4E6"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15560"></a><span class="anchor_wrapper"><a name="GUID-3931637F-9EE2-46A0-9B79-C04A635BE472"></a></span>fgGradientThreshold
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-39B9E6D9-BDA5-49AD-871A-D78E92ED2BE8"></a></span>Determines how irradiance gradients are used in the interpolation. Each point stores its irradiance gradient, which can be
               used to improve the interpolation. However, in some situations, using the gradient can result in white ”halos” and other artifacts.
               Reducing this threshold value can reduce those artifacts. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_F73C46D8E6254A0089245428BC4685AC"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15568"></a><span class="anchor_wrapper"><a name="GUID-97155706-BE39-4D6C-840E-D696434515B1"></a></span>fgMaxRayLength
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-80170D9A-C571-41F9-ACE7-8298C0323F16"></a></span>The maximum distance a ray can be traced before it is considered to be a "miss". This can improve performance in very large
               scenes. If this value is set to <span class="code" translate="no">0.0</span>, the entire scene will be used. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_BEDA45EE0D314833B6664BC8AC5FA7E2"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15579"></a><span class="anchor_wrapper"><a name="GUID-8FFDDCA7-5587-4716-B166-4EA8D116F8C0"></a></span>fgClampRadiance
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-FEE48B0E-ACE2-46F5-AE48-F61F7791EF5C"></a></span>When enabled, sampled values are clamped to <span class="code" translate="no">[0, 1]</span>. This reduces high frequency noise when final gather is used together with other Global Illumination algorithms. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_74378F0773364649820D4E54B6CAE2AA"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15590"></a><span class="anchor_wrapper"><a name="GUID-0DDCAB0E-C44E-4092-B40D-D5F64CA70B91"></a></span>fgCacheDirectLight
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-FA421E29-3896-4DCD-92E8-BA03F7C6D415"></a></span>When enabled, final gather will also cache lighting from light sources. This increases performance, since fewer direct light
               calculations are needed. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-289EE5F9-D645-4C19-83E6-63E7CB0CB10B"></a></span>This caching gives an approximate result, and hence can affect the quality of the lighting. For instance, indirect light bounces
               from specular highlights might be lost. However, this caching is only done for depths higher than 1, so the quality of direct
               light and shadows in the light map will not be reduced. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_36110DE41923427C8B5F6BEF4CB267D0"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15602"></a><span class="anchor_wrapper"><a name="GUID-F316EA6D-91B3-44E7-A73E-07A0742A52BE"></a></span>fgCheckVisibility
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-647B0859-5509-4776-9F16-94360D269F5B"></a></span>Enable this setting to reduce light leakage through walls. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-AAA5796A-FC70-4C9E-95DB-DA2F3C69F3BF"></a></span>When adjacent points are collected to interpolate between, some of these points can be located on the other side of geometry.
               As a result light will bleed through the geometry. To prevent this, <span class="charspan-msgph" translate="no">Beast</span> can reject points that are not visible from each other. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_A379DE4F9982421E9F175B8025936438"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15616"></a><span class="anchor_wrapper"><a name="GUID-A5F730B7-94A5-49C4-ABC5-7C8D398A3793"></a></span>fgCheckVisibilityDepth
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-13AC5959-966F-4AC9-9CD1-8E9236BD3117"></a></span>When <span class="code" translate="no">&lt;fgCheckVisibility&gt;</span> is enabled, this setting determines the number of bounces for which the visibility checks will be performed. Adjust this
               value only if you experience light leakage when using a multi-bounce final gather. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_D8934B0B33584B04A0597A08D398799B"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15627"></a><span class="anchor_wrapper"><a name="GUID-6B5C6926-DE8F-4F6B-B267-F89167784131"></a></span>fgLightLeakReduction
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-2CF3A2FF-7672-432F-A759-61EA8671E12B"></a></span>This setting can be used instead of <span class="code" translate="no">&lt;fgCheckVisibility&gt;</span> to reduce light leakage through walls when using final gather as primary GI and path tracing as secondary GI. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-EF2CDB30-D994-4992-A625-4417E29B8B1A"></a></span>Leakage can happen when the path tracer filters in values on the other side of a wall. This leakage can be reduced by using
               final gather as a secondary GI fallback when sampling close to walls or corners. When this is enabled, a final gather depth
               of 3 will be used automatically, but the higher depths will only be used close to walls or corners. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-DE59A863-27D7-4B63-8ADF-EC757EE6277F"></a></span>This approach to light leak reduction is typically faster than using <span class="code" translate="no">&lt;fgCheckVisibility&gt;</span>, since the depth is automatically adjusted. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-96B0DA70-C34D-474F-BAFF-AA7995470CDF"></a></span>Note that this setting is only read when path tracing is set as secondary GI. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_B200DE2751584E989DD405CCCA596305"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15650"></a><span class="anchor_wrapper"><a name="GUID-8C2EB4AD-E4FA-4251-93D4-C53FB5AE878D"></a></span>fgLightLeakRadius
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-E1FC9CE0-0C54-426A-8E07-DD22BBE88EBE"></a></span>When <span class="code" translate="no">&lt;fgLightLeakReduction&gt;</span> is enabled, this setting determines how far away from walls the final gather will be called instead of the secondary GI.
               
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-BF89A7C3-73A8-4F18-ADCF-B9AF1966100A"></a></span>If <span class="code" translate="no">0.0</span> is used, a value will be calculated internally depending on the type of secondary GI used. The calculated value is printed
               in the output window. If you still get leakage, you can adjust this by setting a higher value explicitly in your XML file
               and re-running the final gather. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_F3AED6190CAB47C8842AE2D0E30296D2"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15667"></a><span class="anchor_wrapper"><a name="GUID-AC8C58DF-EB40-4FAF-BBEF-21140F461C93"></a></span>fgMaxSearchRadius
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-A7775246-4C0D-4EB7-BB56-2B594C1091F3"></a></span>Increasing the value of this setting may help to reduce problems with light leakage at secondary final gather depths. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-B2E471DC-2A34-445E-9CA6-2FC26CBD2A80"></a></span>Checking for sample visibility is a safe way to eliminate light leakage (see also the <span class="code" translate="no">&lt;fgCheckVisibility&gt;</span> and <span class="code" translate="no">&lt;fgCheckVisibilityDepth&gt;</span> settings). However, when using multiple final gather depths, this can result in very long rendering times. The <span class="code" translate="no">&lt;fgMaxSearchRadius&gt;</span> setting offers a cheaper way to remove leakage. Setting this parameter to a value above zero will limit the search radius
               for final gather points at secondary depths, determining the maximum distance of the points that are included. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-6B24ED32-8F1F-4925-A8B5-89BA6D1C9A5E"></a></span>The value is given in world space units. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_23489C1D875647CDA4F64585D0919A2B"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15690"></a><span class="anchor_wrapper"><a name="GUID-68B1C487-D387-4196-9164-E636976DC819"></a></span>fgAttenuationStart
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-56BD4CB1-E5A7-43AF-98DF-5BA957D58A6D"></a></span>Sets the distance from the spawning point at which final gather rays begin to attenuate, or fade in strength. There is no
               attenuation before this distance. Note that <span class="code" translate="no">&lt;fgAttenuationStop&gt;</span> must be set higher than <span class="code" translate="no">0.0</span> to enable attenuation. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_2FC191627CC64F869E504A18546877E7"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15704"></a><span class="anchor_wrapper"><a name="GUID-2ED3CA2A-F6C2-4B4E-A79D-9DAF39846B96"></a></span>fgAttenuationStop
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-C5EFEF05-9A6D-4A15-98FD-BAB97A7FF326"></a></span>Sets the distance from the spawning point at which the attenuation of final gather rays is completed: i.e. at which their
               intensity has faded to zero. Beyond this distance, light rays will have no effect. To enable attenuation, set this value higher
               than <span class="code" translate="no">0.0</span>. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-C87D5638-5E53-4501-9A1C-9BFBC2678322"></a></span>The default value is <span class="code" translate="no">0.0</span>. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_8865C7A42A0B49C49A4CF5B66E6F8256"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15721"></a><span class="anchor_wrapper"><a name="GUID-584D9FF1-29A3-4D0A-AA0E-BF4B5BA79F9E"></a></span>fgFalloffExponent
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-A3DF8503-6C53-4628-B008-EDCC66201353"></a></span>Adjusts the rate at which lighting falls off over distance when attenuation is enabled. A higher exponent gives a faster falloff.
               Note that <span class="code" translate="no">&lt;fgAttenuationStop&gt;</span> must be set higher than <span class="code" translate="no">0.0</span> to enable attenuation. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_5DFDE079531F4061A9D0CF089921BEAD"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15735"></a><span class="anchor_wrapper"><a name="GUID-8402C067-1AE8-4F1C-A283-72730EB850A2"></a></span>fgAOContrast
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-9BDE81B1-8F9F-4CD8-8D69-024071CECC21"></a></span>Adjusts the contrast for ambient occlusion. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_31DD34986368480288DE36B2CFCC13A2"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15743"></a><span class="anchor_wrapper"><a name="GUID-F18A6258-FAF4-404E-93AF-CA38A13030CB"></a></span>fgAOInfluence
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-5F287B4D-0FAE-49C3-887E-EB221B996F90"></a></span>Controls the scaling of final gather with ambient occlusion, which can be used to boost shadowing and get more contrast in
               your lighting. The value controls how much ambient occlusion to blend into the final gather solution. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-ACB704F0-6A1D-436E-9A31-9B3730E721CF"></a></span>This setting accepts any value between 0.0 and 1.0 inclusive, where: 
            </p> <span class="anchor_wrapper"><a name="UL_CD5BCA1F177D46D485DFCB11164CD9A4"></a></span><ul>
               <li> <span class="code" translate="no">0.0</span> produces only GI, with no ambient occlusion. 
               </li>
               <li><span class="code" translate="no">1.0</span> produces GI with full ambient occlusion blended in. 
               </li>
               <li>Values between <span class="code" translate="no">0.0</span> and <span class="code" translate="no">1.0</span> produce a weighted blend between these two extremes. 
               </li>
            </ul> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_26C35036BB6F464C934C57FCC407FFE9"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15773"></a><span class="anchor_wrapper"><a name="GUID-9713F45C-DBF4-4B9A-8A64-D6943A3864E0"></a></span>fgAOMaxDistance
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-541379C1-6130-407C-99D7-BC68E1050113"></a></span>Maximum distance for ambient occlusion. Beyond this distance a ray is not considered to be occluded, even if it hits an object.
               You can use this setting to avoid closed scenes from resulting in full occlusion in every direction, or to limit the ambient
               occlusion contribution to areas with very close occluders (such as creases). 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_2DD87B40DF634987ACD3B100DE833C0A"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15782"></a><span class="anchor_wrapper"><a name="GUID-B3B89049-4DD3-419F-800C-30DF903EA708"></a></span>fgAOScale
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-1AFFC740-EE8B-4A44-B006-47B744091922"></a></span>A scaling of the occlusion values. Can be used to increase or decrease the shadowing effect. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_9BE549943BE9474992B6578857B514A8"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15790"></a><span class="anchor_wrapper"><a name="GUID-5DF3E952-C481-4F99-8F9F-8627276F69B7"></a></span>fgAOVisualize
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-43820AF1-13EC-4494-A588-4737C632C339"></a></span>Visualizes just the ambient occlusion values. Useful when tweaking the occlusion sampling options. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_6E33FF8DCFD84847B000C9116E1C362B"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15798"></a><span class="anchor_wrapper"><a name="GUID-7E47DDDE-74A0-4011-99D3-27EECF710FD9"></a></span>fgUseLegacy
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-05B865F9-9ACC-4B3C-BD46-E34DE73DEBE9"></a></span>Enables an older final gather method. With this method, points are placed according to the geometry in the scene. More samples
               are placed near walls and corners of the geometry. The difference in contrast between the samples is not considered. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-6E55F503-E03B-4E4B-9DBA-2BAF92CC1907"></a></span>When this legacy method is enabled, the following controls that apply to the new method are not used: <span class="code" translate="no">&lt;fgInterpolationPoints&gt;</span>, <span class="code" translate="no">&lt;fgEstimatePoints&gt;</span>, <span class="code" translate="no">&lt;fgContrastThreshold&gt;</span>, and <span class="code" translate="no">&lt;fgGradientThreshold&gt;</span>. 
            </p> 
            <p><span class="anchor_wrapper"><a name="GUID-A684848F-0972-4909-AE75-D103A3F0B866"></a></span>Instead, you can control the legacy final gather method using the <span class="code" translate="no">&lt;fgAccuracy&gt;</span>, <span class="code" translate="no">&lt;fgSmooth&gt;</span> and <span class="code" translate="no">&lt;fgDisableMinRadius&gt;</span> settings described below. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_DCF579E0612348D1979B40B525DD1583"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15833"></a><span class="anchor_wrapper"><a name="GUID-46DD9517-3FBE-405A-8ADD-FD2D9B032ED1"></a></span>fgAccuracy
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-B8841915-47C8-4993-90D3-6A2F6F0BA50A"></a></span>Controls the sample point density. Higher values generate more points and better results, at the expense of longer rendering
               times. Read only when <span class="code" translate="no">&lt;fgUseLegacy&gt;</span> is enabled. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_C58E4C188B3F457B8B202D703DF90EA9"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15844"></a><span class="anchor_wrapper"><a name="GUID-1B742BBF-5E6E-43AF-AAE1-8357A5FD52C3"></a></span>fgSmooth
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-636B0C6E-1B2D-4E13-9A8F-2AD3B0C7A3B7"></a></span>Applies a filter that reduces noise in the final gather solution. This is much faster than increasing accuracy or sending
               more rays. The default value is <span class="code" translate="no">1.0</span>. Values below <span class="code" translate="no">1.0</span> give a sharper but noisier look, values above 1.0 give a smoother look with less details preserved. Read only when <span class="code" translate="no">&lt;fgUseLegacy&gt;</span> is enabled. 
            </p> 
         </div>
         <div class="section"><span class="anchor_wrapper"><a name="SECTION_A6ED7832E365402F968D6AA749CD1A2C"></a></span> 
            <h2><a name="TOC_ENTRY__d30e15861"></a><span class="anchor_wrapper"><a name="GUID-E42FBF4A-C5C4-4A32-92FA-303CF90B241B"></a></span>fgDisableMinRadius
            </h2> 
            <p><span class="anchor_wrapper"><a name="GUID-CC5891E6-6D5D-448A-A2CB-22BE4BC060EF"></a></span>When enabled, more points will be created in corners of the geometry. This can reduce artifacts, but increases the rendering
               time significantly. It is recommended that you enable this setting only when absolutely necessary. Read only when <span class="code" translate="no">&lt;fgUseLegacy&gt;</span> is enabled. 
            </p> 
         </div>
         <div class="footer-block"><a href="javascript:doComments('../html/ac.cmtdialog.htm');"><span class="comments-link">Please send us your comment about this page</span></a></div><br /></div>
   <div id="reflinkdiv" style="display:none; visibility:hidden; position:absolute; z-index:40001; padding:5px; border-style:solid; border-width:1px; border-color:#666666; background-color:#dfdfdf; overflow:visible"></div><script type="text/javascript">
    if (document.location.protocol == "http:" || document.location.protocol == "https:")
	{
		var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
		document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	}
</script>
<script type="text/javascript">
    if (document.location.protocol == "http:" || document.location.protocol == "https:")
	{
		try {
			var pageTracker = _gat._getTracker("UA-2967772-176");
			pageTracker._trackPageview();
		} catch(err) {}
	}
</script>
    
</body>
</html>